# perm

Permutation generator based on group theory[^1].

- Stateless, generate next permutation from current permutation only.
- Permutation order is **NOT** lexical.

## Installation

```
go get github.com/deltam/perm
```

## Usage

Index only:

```go
func main() {
	for p := perm.New(3); !p.Done(); p.Next() {
		fmt.Println(p.Index())
	}
}
// Output:
// [1 2 0]
// [2 0 1]
// [0 2 1]
// [2 1 0]
// [0 1 2]
// [1 0 2]
```

Permutation of slice:

```go
func main() {
	words := []rune("ABC")
	for p := perm.Iter(words); !p.Done(); p.Next() {
		fmt.Printf("%v\t%s\n", p.Index(), string(words))
	}
}
// Output:
// [1 2 0]	ABC
// [2 0 1]	BCA
// [0 2 1]	CBA
// [2 1 0]	BAC
// [0 1 2]	CAB
// [1 0 2]	ACB
```

## Background

See paper[^1] for details.

[Cayley graph](https://en.wikipedia.org/wiki/Cayley_graph) on permutation group generated by _sigma_ and _tau_ has a size two disjoint cycle cover and [Hamilton path](https://en.wikipedia.org/wiki/Hamiltonian_path).

    sigma(rotation): (1, 2, ..., n) -> (2, 3, ..., n, 1)
    tau(swap):       (1, 2, ..., n) -> (2, 1, ..., n)

<img src="https://raw.githubusercontent.com/deltam/perm/master/img/cycle_cover4.png" width="600" alt="cycle cover by n=4">

Below is the Hamilton path created by split and join the two cycles.

<img src="https://raw.githubusercontent.com/deltam/perm/master/img/hamilton_path4.png" width="600" alt="hamilton path by n=4">

By observing above Hamilton path, you can discover local rule for generating that.

See `perm.ruleSwap()` or this text[^2] for details.

The order of the permutations generated is slightly different to make it simpler to determine the cycle end.
[permutation order graph](https://raw.githubusercontent.com/deltam/perm/master/img/permgen_order4.png)


## License

MIT

Copyright 2019 deltam


[^1]: [[1307.2549] Hamiltonicity of the Cayley Digraph on the Symmetric Group Generated by σ = (1 2 ... n) and τ = (1 2)](https://arxiv.org/abs/1307.2549)

[^2]: [The Williams Construction: Superpermutations — Greg Egan](https://www.gregegan.net/SCIENCE/Superpermutations/Superpermutations.html#WILLIAMS)
